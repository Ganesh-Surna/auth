{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/GaneshSurna/Desktop/PRACTICE/routes-and-authentication/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/GaneshSurna/Desktop/PRACTICE/routes-and-authentication/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _jsxFileName = \"C:\\\\Users\\\\GaneshSurna\\\\Desktop\\\\PRACTICE\\\\routes-and-authentication\\\\src\\\\components\\\\Events\\\\Events.js\",\n  _s = $RefreshSig$(),\n  _loadEvents,\n  _loader;\nimport { Suspense } from \"react\";\nimport { Await, Link, defer, json, useLoaderData, useRouteLoaderData } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Events() {\n  _s();\n  var _this = this;\n  var eventsKey = useRouteLoaderData(\"events-root\");\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"events\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"All Events\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Suspense, {\n      fallback: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 10,\n        columnNumber: 29\n      }, this),\n      children: /*#__PURE__*/_jsxDEV(Await, {\n        resolve: eventsKey,\n        children: function children(loadedEvents) {\n          return /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"events-list\",\n            children: loadedEvents.map(function (event) {\n              return /*#__PURE__*/_jsxDEV(\"li\", {\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  to: event.id,\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"event-item\",\n                    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                      src: event.image\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 18,\n                      columnNumber: 37\n                    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"event-item-content\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                        children: event.title\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 20,\n                        columnNumber: 41\n                      }, _this), /*#__PURE__*/_jsxDEV(\"time\", {\n                        children: event.date\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 21,\n                        columnNumber: 41\n                      }, _this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 19,\n                      columnNumber: 37\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 17,\n                    columnNumber: 33\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 16,\n                  columnNumber: 29\n                }, _this)\n              }, event.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 15,\n                columnNumber: 32\n              }, _this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 13,\n            columnNumber: 28\n          }, _this);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 11,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 8,\n    columnNumber: 12\n  }, this);\n}\n_s(Events, \"rnHN26zw4ZnTpcAo62AJojXSWbI=\", false, function () {\n  return [useRouteLoaderData];\n});\n_c = Events;\nfunction loadEvents() {\n  return (_loadEvents = _loadEvents || _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n    var response, _yield$response$json, events;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return fetch(\"http://localhost:8080/events\");\n        case 2:\n          response = _context.sent;\n          if (response.ok) {\n            _context.next = 7;\n            break;\n          }\n          throw json({\n            message: \"Failed to fetch events.\"\n          }, {\n            status: 500\n          });\n        case 7:\n          _context.next = 9;\n          return response.json();\n        case 9:\n          _yield$response$json = _context.sent;\n          events = _yield$response$json.events;\n          return _context.abrupt(\"return\", events);\n        case 12:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }))).apply(this, arguments);\n}\nexport function loader() {\n  return (_loader = _loader || _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          return _context2.abrupt(\"return\", defer({\n            eventsKey: loadEvents()\n          }));\n        case 1:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }))).apply(this, arguments);\n}\nvar _c;\n$RefreshReg$(_c, \"Events\");","map":{"version":3,"names":["Suspense","Await","Link","defer","json","useLoaderData","useRouteLoaderData","jsxDEV","_jsxDEV","Events","_s","_this","eventsKey","className","children","fileName","_jsxFileName","lineNumber","columnNumber","fallback","resolve","loadedEvents","map","event","to","id","src","image","title","date","_c","loadEvents","_loadEvents","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","_yield$response$json","events","wrap","_callee$","_context","prev","next","fetch","sent","ok","message","status","abrupt","stop","apply","arguments","loader","_loader","_callee2","_callee2$","_context2","$RefreshReg$"],"sources":["C:/Users/GaneshSurna/Desktop/PRACTICE/routes-and-authentication/src/components/Events/Events.js"],"sourcesContent":["import { Suspense } from \"react\";\r\nimport { Await, Link, defer, json, useLoaderData, useRouteLoaderData } from \"react-router-dom\";\r\n\r\nexport default function Events(){\r\n\r\n    const eventsKey=useRouteLoaderData(\"events-root\");\r\n\r\n    return <div className=\"events\">\r\n        <h1>All Events</h1>\r\n        <Suspense fallback={<p>Loading...</p>}>\r\n            <Await resolve={eventsKey}>\r\n                {(loadedEvents)=>{\r\n                    return <ul className=\"events-list\">\r\n                    {loadedEvents.map((event)=>{\r\n                        return <li key={event.id}>\r\n                            <Link to={event.id}>\r\n                                <div className=\"event-item\">\r\n                                    <img src={event.image}/>\r\n                                    <div className=\"event-item-content\">\r\n                                        <h2>{event.title}</h2>\r\n                                        <time>{event.date}</time>\r\n                                    </div>\r\n                                </div>\r\n                            </Link>\r\n                        </li>\r\n                    })}\r\n        </ul>}\r\n                }\r\n            </Await>\r\n        </Suspense>\r\n    </div>\r\n}\r\n\r\nasync function loadEvents(){\r\n    const response = await fetch(\"http://localhost:8080/events\");\r\n\r\n    if(!response.ok){\r\n        throw json({message:\"Failed to fetch events.\"},{status:500});\r\n    }\r\n\r\n    else{\r\n        const {events} = await response.json();\r\n        return events;\r\n    }\r\n}\r\n\r\nexport async function loader(){\r\n    return defer({\r\n        eventsKey: loadEvents(),\r\n    })\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}