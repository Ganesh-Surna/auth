{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/GaneshSurna/Desktop/PRACTICE/routes-and-authentication/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/GaneshSurna/Desktop/PRACTICE/routes-and-authentication/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _jsxFileName = \"C:\\\\Users\\\\GaneshSurna\\\\Desktop\\\\PRACTICE\\\\routes-and-authentication\\\\src\\\\components\\\\Events\\\\EventDetails.js\",\n  _s = $RefreshSig$(),\n  _loadEventDetails,\n  _loadEvents,\n  _loader;\nimport { Link, defer, json, useRouteLoaderData } from 'react-router-dom';\nimport classes from './EventDetails.module.css';\nimport EventsList from './EventsList';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function EventDetails() {\n  _s();\n  var event = useRouteLoaderData(\"event\");\n  var _useRouteLoaderData = useRouteLoaderData(\"events-root\"),\n    eventsKey = _useRouteLoaderData.eventsKey;\n  function startDeleteHandler() {\n    // ...\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Event Details.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"article\", {\n      className: classes.event,\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: event.image,\n        alt: event.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: event.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"time\", {\n        children: event.date\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: event.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"menu\", {\n        className: classes.actions,\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"edit\",\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 22,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: startDeleteHandler,\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 23,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"All Events\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(EventsList, {\n      events: eventsKey\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n_s(EventDetails, \"SxPEq+XtSaI84fZOgp3WGJixQWg=\", false, function () {\n  return [useRouteLoaderData, useRouteLoaderData];\n});\n_c = EventDetails;\nfunction loadEventDetails(_x) {\n  return (_loadEventDetails = _loadEventDetails || _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(_ref) {\n    var params, id, url, response, _yield$response$json, event;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          params = _ref.params;\n          id = params.id;\n          url = \"http://localhost:8080/events/\" + id;\n          _context.next = 5;\n          return fetch(url);\n        case 5:\n          response = _context.sent;\n          if (response.ok) {\n            _context.next = 10;\n            break;\n          }\n          throw json({\n            message: \"Failed to fetch event details.\"\n          }, {\n            status: 500\n          });\n        case 10:\n          _context.next = 12;\n          return response.json();\n        case 12:\n          _yield$response$json = _context.sent;\n          event = _yield$response$json.event;\n          return _context.abrupt(\"return\", event);\n        case 15:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }))).apply(this, arguments);\n}\nfunction loadEvents() {\n  return (_loadEvents = _loadEvents || _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n    var response, _yield$response$json2, events;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return fetch(\"http://localhost:8080/events\");\n        case 2:\n          response = _context2.sent;\n          if (response.ok) {\n            _context2.next = 7;\n            break;\n          }\n          throw json({\n            message: \"Failed to fetch events.\"\n          }, {\n            status: 500\n          });\n        case 7:\n          _context2.next = 9;\n          return response.json();\n        case 9:\n          _yield$response$json2 = _context2.sent;\n          events = _yield$response$json2.events;\n          return _context2.abrupt(\"return\", events);\n        case 12:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }))).apply(this, arguments);\n}\nexport function loader() {\n  return (_loader = _loader || _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.t0 = defer;\n          _context3.next = 3;\n          return loadEventDetails();\n        case 3:\n          _context3.t1 = _context3.sent;\n          _context3.t2 = loadEvents();\n          _context3.t3 = {\n            eventKey: _context3.t1,\n            eventsKey: _context3.t2\n          };\n          return _context3.abrupt(\"return\", (0, _context3.t0)(_context3.t3));\n        case 7:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }))).apply(this, arguments);\n}\nvar _c;\n$RefreshReg$(_c, \"EventDetails\");","map":{"version":3,"names":["Link","defer","json","useRouteLoaderData","classes","EventsList","jsxDEV","_jsxDEV","Fragment","_Fragment","EventDetails","_s","event","_useRouteLoaderData","eventsKey","startDeleteHandler","children","fileName","_jsxFileName","lineNumber","columnNumber","className","src","image","alt","title","date","description","actions","to","onClick","events","_c","loadEventDetails","_x","_loadEventDetails","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_ref","params","id","url","response","_yield$response$json","wrap","_callee$","_context","prev","next","fetch","sent","ok","message","status","abrupt","stop","apply","arguments","loadEvents","_loadEvents","_callee2","_yield$response$json2","_callee2$","_context2","loader","_loader","_callee3","_callee3$","_context3","t0","t1","t2","t3","eventKey","$RefreshReg$"],"sources":["C:/Users/GaneshSurna/Desktop/PRACTICE/routes-and-authentication/src/components/Events/EventDetails.js"],"sourcesContent":["import { Link, defer, json, useRouteLoaderData } from 'react-router-dom';\r\nimport classes from './EventDetails.module.css';\r\nimport EventsList from './EventsList';\r\n\r\nexport default function EventDetails(){\r\n\r\n    const event= useRouteLoaderData(\"event\");\r\n    const {eventsKey}=useRouteLoaderData(\"events-root\");\r\n\r\n    function startDeleteHandler() {\r\n        // ...\r\n      }\r\n\r\n    return <>\r\n        <h1>Event Details.</h1>\r\n        <article className={classes.event}>\r\n        <img src={event.image} alt={event.title} />\r\n        <h1>{event.title}</h1>\r\n        <time>{event.date}</time>\r\n        <p>{event.description}</p>\r\n        <menu className={classes.actions}>\r\n            <Link to=\"edit\">Edit</Link>\r\n            <button onClick={startDeleteHandler}>Delete</button>\r\n        </menu>\r\n        </article>\r\n        <h1>All Events</h1>\r\n        <EventsList events={eventsKey}/>\r\n    </>\r\n}\r\n\r\n\r\nasync function loadEventDetails({params}){\r\n    const id= params.id;\r\n    let url=\"http://localhost:8080/events/\"+id;\r\n\r\n    const response = await fetch(url);\r\n\r\n    if(!response.ok){\r\n        throw json({message:\"Failed to fetch event details.\"},{status:500});\r\n    }\r\n\r\n    else{\r\n        const {event} = await response.json();\r\n        return event;\r\n    }\r\n}\r\n\r\nasync function loadEvents(){\r\n    const response = await fetch(\"http://localhost:8080/events\");\r\n\r\n    if(!response.ok){\r\n        throw json({message:\"Failed to fetch events.\"},{status:500});\r\n    }\r\n\r\n    else{\r\n        const {events} = await response.json();\r\n        return events;\r\n    }\r\n}\r\n\r\nexport async function loader(){\r\n    return defer({\r\n        eventKey: await loadEventDetails(),\r\n        eventsKey: loadEvents(),\r\n    })\r\n}\r\n"],"mappings":";;;;;;;AAAA,SAASA,IAAI,EAAEC,KAAK,EAAEC,IAAI,EAAEC,kBAAkB,QAAQ,kBAAkB;AACxE,OAAOC,OAAO,MAAM,2BAA2B;AAC/C,OAAOC,UAAU,MAAM,cAAc;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAEtC,eAAe,SAASC,YAAYA,CAAA,EAAE;EAAAC,EAAA;EAElC,IAAMC,KAAK,GAAET,kBAAkB,CAAC,OAAO,CAAC;EACxC,IAAAU,mBAAA,GAAkBV,kBAAkB,CAAC,aAAa,CAAC;IAA5CW,SAAS,GAAAD,mBAAA,CAATC,SAAS;EAEhB,SAASC,kBAAkBA,CAAA,EAAG;IAC1B;EAAA;EAGJ,oBAAOR,OAAA,CAAAE,SAAA;IAAAO,QAAA,gBACHT,OAAA;MAAAS,QAAA,EAAI;IAAc;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACvBb,OAAA;MAASc,SAAS,EAAEjB,OAAO,CAACQ,KAAM;MAAAI,QAAA,gBAClCT,OAAA;QAAKe,GAAG,EAAEV,KAAK,CAACW,KAAM;QAACC,GAAG,EAAEZ,KAAK,CAACa;MAAM;QAAAR,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eAC3Cb,OAAA;QAAAS,QAAA,EAAKJ,KAAK,CAACa;MAAK;QAAAR,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eACtBb,OAAA;QAAAS,QAAA,EAAOJ,KAAK,CAACc;MAAI;QAAAT,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,eACzBb,OAAA;QAAAS,QAAA,EAAIJ,KAAK,CAACe;MAAW;QAAAV,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC1Bb,OAAA;QAAMc,SAAS,EAAEjB,OAAO,CAACwB,OAAQ;QAAAZ,QAAA,gBAC7BT,OAAA,CAACP,IAAI;UAAC6B,EAAE,EAAC,MAAM;UAAAb,QAAA,EAAC;QAAI;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eAC3Bb,OAAA;UAAQuB,OAAO,EAAEf,kBAAmB;UAAAC,QAAA,EAAC;QAAM;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAClD,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,eACVb,OAAA;MAAAS,QAAA,EAAI;IAAU;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACnBb,OAAA,CAACF,UAAU;MAAC0B,MAAM,EAAEjB;IAAU;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC,CAAC;EAAA,eAClC,CAAC;AACP;AAACT,EAAA,CAxBuBD,YAAY;EAAA,QAEnBP,kBAAkB,EACbA,kBAAkB;AAAA;AAAA6B,EAAA,GAHhBtB,YAAY;AAAA,SA2BrBuB,gBAAgBA,CAAAC,EAAA;EAAA,QAAAC,iBAAA,GAAAA,iBAAA,IAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAA/B,SAAAC,QAAAC,IAAA;IAAA,IAAAC,MAAA,EAAAC,EAAA,EAAAC,GAAA,EAAAC,QAAA,EAAAC,oBAAA,EAAAjC,KAAA;IAAA,OAAAyB,mBAAA,GAAAS,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UAAiCT,MAAM,GAAAD,IAAA,CAANC,MAAM;UAC7BC,EAAE,GAAED,MAAM,CAACC,EAAE;UACfC,GAAG,GAAC,+BAA+B,GAACD,EAAE;UAAAM,QAAA,CAAAE,IAAA;UAAA,OAEnBC,KAAK,CAACR,GAAG,CAAC;QAAA;UAA3BC,QAAQ,GAAAI,QAAA,CAAAI,IAAA;UAAA,IAEVR,QAAQ,CAACS,EAAE;YAAAL,QAAA,CAAAE,IAAA;YAAA;UAAA;UAAA,MACLhD,IAAI,CAAC;YAACoD,OAAO,EAAC;UAAgC,CAAC,EAAC;YAACC,MAAM,EAAC;UAAG,CAAC,CAAC;QAAA;UAAAP,QAAA,CAAAE,IAAA;UAAA,OAI7CN,QAAQ,CAAC1C,IAAI,CAAC,CAAC;QAAA;UAAA2C,oBAAA,GAAAG,QAAA,CAAAI,IAAA;UAA9BxC,KAAK,GAAAiC,oBAAA,CAALjC,KAAK;UAAA,OAAAoC,QAAA,CAAAQ,MAAA,WACL5C,KAAK;QAAA;QAAA;UAAA,OAAAoC,QAAA,CAAAS,IAAA;MAAA;IAAA,GAAAlB,OAAA;EAAA,CAEnB,IAAAmB,KAAA,OAAAC,SAAA;AAAA;AAAA,SAEcC,UAAUA,CAAA;EAAA,QAAAC,WAAA,GAAAA,WAAA,IAAAzB,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAzB,SAAAwB,SAAA;IAAA,IAAAlB,QAAA,EAAAmB,qBAAA,EAAAhC,MAAA;IAAA,OAAAM,mBAAA,GAAAS,IAAA,UAAAkB,UAAAC,SAAA;MAAA,kBAAAA,SAAA,CAAAhB,IAAA,GAAAgB,SAAA,CAAAf,IAAA;QAAA;UAAAe,SAAA,CAAAf,IAAA;UAAA,OAC2BC,KAAK,CAAC,8BAA8B,CAAC;QAAA;UAAtDP,QAAQ,GAAAqB,SAAA,CAAAb,IAAA;UAAA,IAEVR,QAAQ,CAACS,EAAE;YAAAY,SAAA,CAAAf,IAAA;YAAA;UAAA;UAAA,MACLhD,IAAI,CAAC;YAACoD,OAAO,EAAC;UAAyB,CAAC,EAAC;YAACC,MAAM,EAAC;UAAG,CAAC,CAAC;QAAA;UAAAU,SAAA,CAAAf,IAAA;UAAA,OAIrCN,QAAQ,CAAC1C,IAAI,CAAC,CAAC;QAAA;UAAA6D,qBAAA,GAAAE,SAAA,CAAAb,IAAA;UAA/BrB,MAAM,GAAAgC,qBAAA,CAANhC,MAAM;UAAA,OAAAkC,SAAA,CAAAT,MAAA,WACNzB,MAAM;QAAA;QAAA;UAAA,OAAAkC,SAAA,CAAAR,IAAA;MAAA;IAAA,GAAAK,QAAA;EAAA,CAEpB,IAAAJ,KAAA,OAAAC,SAAA;AAAA;AAED,gBAAsBO,MAAMA,CAAA;EAAA,QAAAC,OAAA,GAAAA,OAAA,IAAA/B,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAArB,SAAA8B,SAAA;IAAA,OAAA/B,mBAAA,GAAAS,IAAA,UAAAuB,UAAAC,SAAA;MAAA,kBAAAA,SAAA,CAAArB,IAAA,GAAAqB,SAAA,CAAApB,IAAA;QAAA;UAAAoB,SAAA,CAAAC,EAAA,GACItE,KAAK;UAAAqE,SAAA,CAAApB,IAAA;UAAA,OACQjB,gBAAgB,CAAC,CAAC;QAAA;UAAAqC,SAAA,CAAAE,EAAA,GAAAF,SAAA,CAAAlB,IAAA;UAAAkB,SAAA,CAAAG,EAAA,GACvBb,UAAU,CAAC,CAAC;UAAAU,SAAA,CAAAI,EAAA;YADvBC,QAAQ,EAAAL,SAAA,CAAAE,EAAA;YACR1D,SAAS,EAAAwD,SAAA,CAAAG;UAAA;UAAA,OAAAH,SAAA,CAAAd,MAAA,eAAAc,SAAA,CAAAC,EAAA,EAAAD,SAAA,CAAAI,EAAA;QAAA;QAAA;UAAA,OAAAJ,SAAA,CAAAb,IAAA;MAAA;IAAA,GAAAW,QAAA;EAAA,CAEhB,IAAAV,KAAA,OAAAC,SAAA;AAAA;AAAA,IAAA3B,EAAA;AAAA4C,YAAA,CAAA5C,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}